# comfy_Translation

# **安装**
1、直接下载压缩包

2、使用git clone下载，连接如下：
```
git clone https://github.com/laojingwei/comfy_Translation.git
```
# **使用方法**
1、如果是压缩包，先进行解压，然后把**comfy_Translation.py**放到**ComfyUI\custom_nodes**里

2、如是克隆下来的，也先把**comfy_Translation.py**放到**ComfyUI\custom_nodes**里

3、**重启**ComfyUI

4、在**clip Text encode**里直接输入 **ZH_CN2EN**等关键词，后面你可以根据自己发挥自由输入中文关键词，工程建好后点击渲染，这时会自动把中文转成英文送给ai进行绘制

# **翻译启动关键词解释**
1、**ZH_CN2EN**
```
不管是否中英文混合，统统转为英文（建议使用）
```
2、**ZH_CN2EN1**
```
同ZH_CN2EN不管是否中英文混合，也统统转为英文，但是在控制台那里多了日志输出，可看到转换后的内容（推荐使用）
```
3、**ZH_AUTO**
```
自动，看翻译api的心情去判断转英文还是转中文（不建议使用）
```
4、**ZH_AUTO1**
```
自动，看翻译api的心情去判断转英文还是转中文，但多了日志输出的打印（不建议使用）
```

# **使用截图如下**
1、操作效果截图
![操作效果截图](./images/czjt.png)

2、开启翻译关键词输入
![开启翻译关键词输入](./images/fygjc.png)

3、控制台输出示例
![控制台输出示例](./images/kztlog.png)

4、生成示例图
![生成示例图](./images/ComfyUI_00936_.png)



# **其它**
1、本脚本使用的是有道翻译api，如你动手能力强的话可以自己去修改为百度翻译api或谷歌翻译api

2、一些符号在有道api那边翻译后会发生错乱，目前我是通过转换部分特殊符号以维持文本整体尽量不发生改变，由于本人对关键词不是很熟，测试过程可能会遗漏某些场景，如果你在使用时发现翻译出来的内容不对或出入比较大，请联系我

3、本脚本总体代码很简单，如果有大神能进行修改优化那是非常好的，哪位大神如果有更好的方法或思路不知可否给我分享分享，我也想去学学

4、本脚本无需而外下载依赖，一般情况下是解压后就能使用，如有在启动comfyUI发现提示某些model不存在，请根据提示安装相应依赖

5、感谢网友提供的模型：[有需要可自行获取](https://civitai.com/models/10415/3-guofeng3)
